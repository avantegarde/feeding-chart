<!DOCTYPE html>
<html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name=apple-mobile-web-app-capable content=yes>
<meta name=apple-mobile-web-app-status-bar-style content=black>
<meta name=format-detection content="telephone=no">
<meta name=viewport content="width=device-width, initial-scale=1">
<title>Feeding Chart</title>

  <meta name=description content="Interactive feeding chart for hydroponic plants.">
  <meta name=keywords content="feeding, chart, plants, feeding-chart, hydroponics, dwc">
  <meta name=apple-mobile-web-app-title content="Interactive Feeding Chart">
  <link rel=apple-touch-icon href=favicon.png>

  <meta property="og:title" content="Interactive Feeding Chart">
  <meta property="og:type" content=website>
  <!-- <meta property="og:url" content=https://wpsnr.com> -->
  <meta property="og:image" content=favicon.png>
  <meta property="og:description" content="Interactive feeding chart for hydroponic plants.">

  <meta name="twitter:title" content="Interactive Feeding Chart">
  <meta name="twitter:creator" content="@The_KL">
  <meta name="twitter:card" content=summary>
  <meta name="twitter:image" content=favicon.png>
  <meta name="twitter:description" content="Interactive feeding chart for hydroponic plants.">

  <link type=image/x-icon rel="shortcut icon" href=favicon.png>

<style type="text/css">
*,
*:before,
*:after {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-kerning: auto;
}
html {
  font-size: 1em;
  line-height: 1.4;
  font-weight: 400;
  font-family: 'Open Sans', 'Source Sans Pro', Roboto, 'HelveticaNeue-Light', 'Helvetica Neue Light', 'Helvetica Neue', 'Myriad Pro', 'Segoe UI', Myriad, Helvetica, 'Lucida Grande', 'DejaVu Sans Condensed', 'Liberation Sans', 'Nimbus Sans L', Tahoma, Geneva, Arial, sans-serif;
  -webkit-text-size-adjust: 100%;
  background: #d8dee4;
  color: #111215;
}
body {
  margin: 0;
  padding-bottom: 30px;
  position: relative;
  text-align: center;
}
h1 {
    display: block;
    margin: 20px auto 10px auto;
}
p.intro {
    display: block;
    width: 550px;
    max-width: 100%;
    margin: 0 auto 15px auto;
    padding: 0 15px;
}
h3 {
  position: relative;
  display: block;
  width: 200px;
  max-width: 100%;
  margin: auto;
  padding: 15px;
  background: #0073a4;
  color: #ffffff;
}
h3:before {
  content: "";
  display: block;
  width: 0;
  height: 0;
  border-top: 10px solid transparent;
  border-right: 10px solid transparent;
  border-bottom: 10px solid transparent;
  border-left: 10px solid #333333;
  position: absolute;
  top: calc(50% - 10px);
  left: 0;
}
a,
a:visited {
  color: #0073a4;
}
a:hover,
a:focus {
  color: #ffffff;
}
input[type="text"],
input[type="number"] {
  width: auto;
  padding: 5px;
  max-width: 100%;
  font-size: 16px;
  line-height: 18px;
  border: none;
}
input[type="text"]:focus,
input[type="number"]:focus {
  outline: none;
  box-shadow: inset 0 1px 1px rgba(0,0,0,0.75);
  -moz-box-shadow: inset 0 1px 1px rgba(0,0,0,0.75);
  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,0.75);
}
/*---------------------*
 *------ Buttons ------*
 *---------------------*/
[data-button],
[data-button]:visited {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  display: inline-block;
  width: auto;
  margin: .5em auto;
  padding: .4em 1.5em .36em 1.5em;
  -webkit-appearance: none;
  appearance: none;
  outline: none;
  cursor: pointer;
  background: #0073a4;
  font-weight: 600;
  font-kerning: auto;
  text-decoration: none !important;
  text-align: center;
  font-size: 1.25em;
  line-height: 1;
  color: #ffffff !important;
  text-transform: none;
  border: none;
  border-top: 1px solid transparent;
    border-left: 1px solid transparent;
  box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.5);
  -moz-box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.5);
  -webkit-box-shadow: 1px 1px 1px rgba(0, 0, 0, 0.5);
  border-radius: 0;
  text-shadow: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  -o-user-select: none;
  user-select: none;
    transition: all 0.3s ease-in-out;
    -moz-transition: all 0.3s ease-in-out;
    -webkit-transition: all 0.3s ease-in-out;
}
[data-button]:hover,
[data-button]:focus {
  background: #0f5d7e;
  box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.5);
  -moz-box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.5);
  -webkit-box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.5);
  border-top: 1px solid rgba(0, 0, 0, 0.25);
  border-left: 1px solid rgba(0, 0, 0, 0.25);
}
[data-button]:active {
  background: #15485e;
  box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.75);
  -moz-box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.75);
  -webkit-box-shadow: 0px 0px 0px rgba(0, 0, 0, 0.75);
  border-top: 1px solid rgba(0, 0, 0, 0.5);
  border-left: 1px solid rgba(0, 0, 0, 0.5);
}
[data-button="local"] {
  display: inline-block;
  width: 56px;
  height: 28px;
  margin: 0 -5px 0 -56px;
  padding: 0;
  font-size: 12px;
  line-height: 20px;
  vertical-align: top;
}
[data-button="more-info"] {
  font-size: 16px;
  line-height: 20px;
}
/*#more-info {
  display: block;
  width: 650px;
  max-height: 0px;
  max-width: 100%;
  margin: 0 auto 30px auto;
  padding: 0 15px;
  overflow: hidden;
  opacity: 0;
  transition: all 0.3s ease-in-out;
  -webkit-transition: all 0.3s ease-in-out;
}
#more-info.active {
  opacity: 1;
  max-height: 500px;
}*/
h2.title {
  display: block;
  margin: 10px 0 0 0;
}
#week-label {
  margin-right: 20px;
}
#week-label [data-button] {
  margin: 0;
}
#week-label input {
  height: 36px;
  position: relative;
  top: 1px;
  font-size: 22px;
  text-align:center;
}
/*--- Table ---*/
.container {
  display: block;
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 30px 30px 30px;
  background: #bbc9d5;
}
.container:after {
  content: "";
  display: block;
  clear: both;
}
table#feeding {
  width: 100%;
  border: 1px solid #204a69;
  border-collapse: collapse;
  overflow: hidden;
}
table#feeding tr,
table#feeding td {
  position: relative;
  border: 1px solid #204a69;
  z-index: 2
}
table#feeding td {
  padding: 15px;
}
col.active {
  background: #76d36d;
}
#nutes > tr > td:first-of-type {
  text-align: left;
}
#nutes > tr > td > span {
  margin-left: 5px;
  font-size: 75%;
}
/*table#feeding tr:hover {
  background-color: green;
}*/
/*table#feeding td:hover::after {
  content: "";
  position: absolute;
  background-color: green;
  left: 0;
  top: -5000px;
  height: 10000px;
  width: 100%;
  z-index: 1;
}*/
</style>
  
</head>
<body>

  <h1>Feeding Chart</h1>
  <!-- <p class="intro">Use this tool to help migrate or change your WordPress domain by doing a simple SQL search and replace on your database.</p>
  <p><em><sup>*</sup>Backup your database before running a search and replace.<sup>*</sup></em></p>
  <button data-button="more-info" onclick="moreInfo()">More info &#9662;</button>
  <div id="more-info">
    <h2 class="title">WordPress Database Switcheroo</h2>
    <p><em><sup>*</sup>Yes I'll say it again; Backup your database before working on it. <br>It's always a sad day if/when something goes wrong.<sup>*</sup></em></p>
    <p>Are you looking to do a mass search and replace in WordPress? This tool is designed to change the domain name and urls including the content. Simply add your database prefix, current site url, and new site url into the form and click submit. Copy the output and run it as an SQL command on your database.</p>
    <p>You might want to consider doing multiple runs with both <em>"http://"</em> and <em>"https://"</em> versions of your domain if you are trying to fix mixed content urls.</p>
    <p>If you like it, you can star it or fork it <a href="https://github.com/avantegarde/wpsnr" target="_blank">over at GitHub</a></p>
  </div> -->

  <label id="week-label">
    <span data-button>Week</span>
    <input id="week" type="number" onchange="setActiveWeek(this);" value="1" min="1" max="12">
  </label>
  <button data-button onclick="switchUnits();">ml/tsp</button>

  <div class="container">
    <table id="feeding">
      <caption><h2 class="section-title center">Feeding Chart</h2></caption>
      <colgroup id="columns"></colgroup>
      <thead id="tablehead"></thead>
      <tbody id="nutes"></tbody>
    </table>
  </div><!-- .container -->

<script>
var SAVE_KEY = 'nutes_save';
/**
* Save state
* @param state
*/
function save(state) {
  localStorage.setItem(SAVE_KEY, JSON.stringify(state));
}
/**
* Load state
*/
function load() {
  return JSON.parse(localStorage.getItem(SAVE_KEY));
}
var state = load();
if (state) {
  state = state;
} else {
  var state = {
    week: 1,
    nutes: [
      {
        name: 'micro',
        u: 'ml',
        p: 100,
        m: [2.5, 7.5, 10, 7.5, 7.5, 7.5, 7.5, 7.5, 7.5, 7.5, 5, 0],
        w1: 2.5,
        w2: 7.5,
        w3: 10,
      },
      {
        name: 'gro',
        u: 'ml',
        p: 100,
        m: [2.5, 10, 10, 7.5, 2.5, 2.5, 2.5, 2.5, 0, 0, 0, 0],
        w1: 2.5,
        w2: 10,
        w3: 10,
      },
      {
        name: 'bloom',
        u: 'ml',
        p: 100,
        m: [2.5, 2.5, 5, 7.5, 10, 10, 12.5, 12.5, 15, 15, 15, 0],
        w1: 2.5,
        w2: 2.5,
        w3: 5,
      },
      {
        name: 'si',
        u: 'ml',
        p: 100,
        m: [0, 1.5, 2, 2.5, 2.5, 2.5, 2.5, 2.5, 2, 1.5, 0, 0],
        w1: 0,
        w2: 1.5,
        w3: 2,
      },
      {
        name: 'calmag',
        u: 'ml',
        p: 100,
        m: [0, 2.5, 5, 5, 5, 5, 5, 5, 5, 2.5, 0, 0],
        w1: 0,
        w2: 2.5,
        w3: 5,
      },
    ],
  };
  save(state);
}
function convert(u, x) {
  if (u === 'ml') {
    var c = x * 0.20;
  } else if (u === 'tsp') {
    var c = x / 0.20;
  }
  c = c.toFixed(2);
  return c;
}
function switchUnits() {
  var nutes = state.nutes;
  for(i=0;i<nutes.length;i++){
    for (n=0;n<nutes[i].m.length;n++) {
      nutes[i].m[n] = convert(nutes[i].u, nutes[i].m[n]);
    }
    /*nutes[i].w1 = convert(nutes[i].u, nutes[i].w1);
    nutes[i].w2 = convert(nutes[i].u, nutes[i].w2);
    nutes[i].w3 = convert(nutes[i].u, nutes[i].w3);*/
    if (nutes[i].u === 'tsp') {
      nutes[i].u = 'ml';
    } else if (nutes[i].u === 'ml') {
      nutes[i].u = 'tsp'
    }
  }
  render(state);
}
function setPercent(p, nute) {
  var nutes = state.nutes;
  var p = p?p.value:100;
  //console.log(nute);
  //console.log(p);
  for(i=0;i<nutes.length;i++){
    if (nutes[i].name === nute) {
      nutes[i].p = p;
    }
  }
  render(state);
}
function percentSelect(p, nute) {
  var choices = [];
  for (x=0;x<=100;x++) {
    if (Number.isInteger(x / 5)) {
      choices.push(x);
    }
  }
  var select = "<select id="+nute+" name="+nute+" onchange=setPercent(this,'"+nute+"')>";
  for (j=0;j<choices.length;j++) {
    select += '<option value="'+choices[j]+'">'+choices[j]+'%</option>';
  }
  select += '</select>';
  /*var select = '' +
  "<select id="+nute+" name='aa' onchange=setPercent(this,'"+nute+"')>" +
  '  <option value="100">100%</option>' +
  '  <option value="50">50%</option>' +
  '  <option value="45">45%</option>' +
  '  <option value="40">40%</option>' +
  '  <option value="35">35%</option>' +
  '  <option value="30">30%</option>' +
  '  <option value="25">25%</option>' +
  '  <option value="20">20%</option>' +
  '  <option value="15">15%</option>' +
  '  <option value="10">10%</option>' +
  '  <option value="5">05%</option>' +
  '</select>';*/
  return select;
}
function nuteVal(p, w) {
  var val = (p / 100) * w;
  //console.log(val);
  return val;
}
function autoSelect(state) {
  var nutes = state.nutes;
  for(i=0;i<nutes.length;i++){
    var e = document.getElementById(nutes[i].name);
    e.value = nutes[i].p;
  }
  var week = document.getElementById('week');
  week.value = state.week;
  
}
function renderColgroup(nutes) {
  var colgroup = document.getElementById('columns');
  var columns = '';
  var totalCol = nutes[0].m.length + 2
  for (w=0;w<totalCol;w++) {
    columns += '<col span="1" class="week' + (w+1) +'">';
  }
  colgroup.innerHTML = columns;
}
function renderTableHead(nutes) {
  var thead = document.getElementById('tablehead');
  var tableHead = '' +
  '<tr>' +
  '  <th>Nutrient</th>' +
  '  <th>Strength</th>';
  for (w=0;w<nutes[0].m.length;w++) {
    tableHead += '<th>Week ' + (w+1) +'</th>';
  }
  tableHead += '</tr>'
  thead.innerHTML = tableHead;
}
function renderTableBody(nutes) {
  var tbody = document.getElementById('nutes');
  var tableBody = '';
  for(i=0;i<nutes.length;i++){
    tableBody += '' +
    '<tr>' +
    '  <td>'+ nutes[i].name +'</td>' +
    '  <td>' + percentSelect(nutes[i].p, nutes[i].name) + '</td>';
    for (n=0;n<nutes[i].m.length;n++) {
      tableBody += '<td>' + nuteVal(nutes[i].p, nutes[i].m[n]) + '<span>' + nutes[i].u + '</span>' +'</td>';
    }
    tableBody += '</tr>';
  }
  tbody.innerHTML = tableBody;
}
function setActiveWeek(week) {
  var week = week?week.value:1;
  state.week = week;
  render(state);
}
function highlightWeek(week) {
  var columns = document.querySelectorAll('#columns col');
  var column = document.querySelectorAll('#columns .week'+ (week+2));
  for (i=0;i<columns.length;i++) {
    columns[i].classList.remove('active');
  }
  column[0].classList.add('active');
}
function render (state) {
  var nutes = state.nutes;
  renderColgroup(nutes);
  renderTableHead(nutes);
  renderTableBody(nutes);
  autoSelect(state);
  highlightWeek(parseInt(state.week));
  save(state);
}
render(state);
</script>
</body>
</html>
